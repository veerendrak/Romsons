<section class="card" id="mainContent" style="padding-left:0px; padding-right:0px; padding-bottom:0px;">
<div style="padding-left:15px; padding-right:15px;">
	<div class="card-header card-header-adjustments">
		<span class="cat__core__title"> <strong class="page-title">Sales Order</strong>
		</span>
	</div>
	<div class="card-block db-block" style="padding:0px;">
		<div class="row">
			<div class="col-lg-12">
				<div class="row">
				<div class="outbound-content col-md-12 mb-5 mt-2">
					<form [formGroup]="filterSalesOrderForm">
					 <div class="delivery-form-block col-md-12 row">
					 <div class="col-md-3 text-align-sales">
						<label>Customer Name</label>
						<input type="text" class="form-control" id="cust-name"
						formControlName="custName"  validateOnBlur [validateFormControl]="filterSalesOrderForm.controls['custName']">
						
						<span
							*ngIf="filterSalesOrderForm.controls['custName'].touched && filterSalesOrderForm.controls['custName'].invalid && filterSalesOrderForm.controls['custName'].dirty"
							class="error"> <small class="custom-error-class"
							*ngIf="filterSalesOrderForm.controls['custName'].errors.required">
								{{saleOrderMessages.cust_req}}</small>
						</span>
						
						</div>
					 <div class="col-md-2 text-align-sales" >
						<label>From Date</label>
						<input type="text" class="form-control datepicker-init-sale" id="from-date"
						formControlName="fromDate"  validateOnBlur [validateFormControl]="filterSalesOrderForm.controls['fromDate']">
						
						<span
							*ngIf="filterSalesOrderForm.controls['fromDate'].touched && filterSalesOrderForm.controls['fromDate'].invalid && filterSalesOrderForm.controls['fromDate'].dirty"
							class="error"> <small class="custom-error-class"
							*ngIf="filterSalesOrderForm.controls['fromDate'].errors.required">
								{{saleOrderMessages.filter_from_date}}</small>
						</span>
						
						</div>
					 <div class="col-md-2 text-align-sales" >
						
						<label>To Date</label>
						<input type="text" class="form-control datepicker-init-sale" id="to-date"
						formControlName="toDate"  validateOnBlur [validateFormControl]="filterSalesOrderForm.controls['toDate']">
						
						<span
							*ngIf="filterSalesOrderForm.controls['toDate'].touched && filterSalesOrderForm.controls['toDate'].invalid && filterSalesOrderForm.controls['toDate'].dirty"
							class="error"> <small class="custom-error-class"
							*ngIf="filterSalesOrderForm.controls['toDate'].errors.required">
								{{saleOrderMessages.filter_to_date}}</small>
						</span>
						</div>
					  <div class="col-md-2 text-align-sales">
						<label>Status</label>
						<input type="text" class="form-control" id="status-sales"
						formControlName="status"  validateOnBlur [validateFormControl]="filterSalesOrderForm.controls['status']">
						
						<span
							*ngIf="filterSalesOrderForm.controls['status'].touched && filterSalesOrderForm.controls['status'].invalid && filterSalesOrderForm.controls['status'].dirty"
							class="error"> <small class="custom-error-class"
							*ngIf="filterSalesOrderForm.controls['status'].errors.required">
								{{saleOrderMessages.filter_sales_status}}</small>
						</span>
						
						</div>
					  <div class="col-md-2 text-align-sales">
						<button type="submit" (click)="getFilterData()"  class="login-button-export" style="position:relative;top:27px;">
							<i class="fa submit-icon" style="margin-right:4px;padding-right:4px;">
							<div class="icon-text" style="right:-4px;">Submit</div>
							</i>
						</button>					  
						</div>
						</div>						 
					</form>
					</div>
					<!-- new changes -->
					<div class="col-md-12 mt-1 mb-5">
							<div class="stock-table" id="sales-table">
								<div style="position:relative;z-index:1;top:6px;">
									<div class="pull-left" style="width: 100px; margin-left: 10px;">
												<label style="margin-top: 3px;">Show Entries:</label>
											</div>
										<div class="pull-left" style="width: 60px;">
											<select class="form-control bulk-action-select" name="pageSizes"
												id="showPageSize" (change)="filterPageSizeRecords()">
												<option value="10">10</option>
												<option value="20">20</option>
												<option value="30">30</option>
												<option value="50">50</option>
												<option value="100">100</option>
												<option value="500">500</option>
											</select>
										</div>
								</div>
								<table class="table table-hover nowrap editable-table checkBoxTable"
								width="100%" id="sales-order-table">
								<thead>
									<tr>
										<th class="no-sort"  style="width:50px;text-align:center;">
											<mat-checkbox class="example-margin" 
											[(ngModel)]="checked"
											[checked]="checked"
											[(indeterminate)]="indeterminate"
											 (click)="selectAll($event,'mat-checkbox-1-input','sales-order-table')"></mat-checkbox>
											 </th>
										<th style="width: 62px;">SO No.</th>
										<th>Order Date</th>
										<th>Req Del date</th>
										<th>Customer Name</th>
										<th>Ship to Party</th>
										<th>Sold to Party</th>
										<th>Sales Persons</th>
										<th>Total Amount</th>
										<th>Status</th>
									</tr>
								</thead>
								<tbody>
									<ng-container *ngIf="salesOrderDetailsList.length>0">
										<tr *ngFor="let sld of salesOrderDetailsList; let i=index;">
											<td><span *ngIf="pageNum==1">{{i+1}}</span>
											<span *ngIf="pageNum > 1">{{pageSize+i}}</span></td>
											<td>{{sld.erdat}}</td>
											<td>{{sld.audat}}</td>
											<td>{{sld.vkorg}}</td>
											<td>{{sld.ship_point}}</td>
											<td>{{sld.erdat}}</td>
											<td>{{sld.erdat}}</td>
											<td>{{sld.erdat}}</td>
											<td>{{sld.erdat}}</td>
										</tr>
									</ng-container>
									<!-- <tr>
										<td align="center">
											<mat-checkbox  (click)="getReportList($event,'sales-order-table')"></mat-checkbox>
											
										</td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0122</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Billed</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0123</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Pending</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0124</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Billed</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0125</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Billed</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0126</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Billed</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0127</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Delivered</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0128</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Delivered</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0129</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Pending</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0130</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Pending</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0131</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Pending</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0132</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Pending</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0133</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Pending</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0134</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Pending</td>
									</tr>
									<tr>
										<td align="center"><mat-checkbox (click)="getReportList($event,'sales-order-table')"></mat-checkbox></td>
										<td><a href="javascript:void(0)" class="sales-num-anchor" (click)="editSalesOrderById()">S0135</a></td>
										<td>02/02/2018</td>
										<td>02/02/2018</td>
										<td>Metro Medical Service Ltd</td>
										<td>Metro Medical</td>
										<td>Metro Medical</td>
										<td>Administrator</td>
										<td>1000.00</td>
										<td>Pending</td>
									</tr> -->
								</tbody>
								</table>
								  <div class="row mt-3 mb-4 col-md-12" *ngIf="paginationArray.length>1">
									<div class="col-md-4">
										<div class="dataTables_info">showing {{pageNum}} of
											{{paginationArray.length}} entries</div>
									</div>
									<div class="col-md-7">
										<div class="pagination">
											<div>
												<a href="javascript:void(0)" id="previous"
													class="list-previous" (click)=navigatePreviousPage()>Previous</a>
											</div>
											<div *ngFor="let page of paginationArray; let i=index;"
												class="pageWraper" style="display: none" id="page-{{i}}">
												<a href="javascript:void(0)" id="next-wrapper"
													class="list-next" style="display: none"
													*ngIf="i==totalEndCount">...</a> <a
													href="javascript:void(0)" class="pageNum" id="{{page}}"
													(click)=navigateNextPage(page)>{{page}}</a> <a
													href="javascript:void(0)" id="previous-wrapper"
													class="list-previous" *ngIf="i==0" style="display: none">...</a>
											</div>

											<div class="pageWraper">
												<a href="javascript:void(0)" id="next" class="list-next"
													(click)=navigatePageNext()>Next</a>
											</div>
										</div>
									</div>
								</div>
							</div>						
						</div>
					<!-- end chnges -->
				</div>
			</div>
		</div>
	</div>
	</div>
<div class="outbound-footer mt-3">
		<div class="left-block">
		<!-- <div class="pull-left" style="max-width:47%">
			<button class="btn login-button">
			<i class="fa fa-plus" style="margin-right:4px;"></i> Add Lines</button>
		</div>
		<div class="pull-left" style="max-width:50%">
			<button class="btn cancel-button">
			<i class="fa fa-times-circle" style="margin-right:4px;"></i>Remove Line</button>
			</div> -->
		</div>
		<div class="right-block">
			

			<div class="pull-left">
			<button class="login-button-export">
			<i class="fa excel-icon" style="margin-right:4px;">
				<div class="icon-text">Export Excel</div>
			</i>
			</button>
			</div>
			<div class="pull-left">
				<button class="login-button-export">
				<i class="fa delivery-icon" style="margin-right:4px;">
				<div class="icon-text" >Create Delivery</div>
			</i>
			</button>
			</div>
			<div class="pull-left">
			<button class="login-button-export" (click)="editSalesOrder('sales-order-table')">
				<i class="fa edit-icon" style="margin-right:4px;padding-right:4px;">
				<div class="icon-text" style="right:-4px;">Edit</div>
				</i>
			</button>
			</div>
			<div class="pull-left">
			<button class="login-button-export" (click)="createSalesOrder('sales-order-table')">
				<i class="fa create-icon" style="margin-right:4px;padding-right:4px;">
				<div class="icon-text" style="right:-4px;">Create</div>
				</i>
			</button>
			</div>
		</div>
	</div>
</section>
<!--create sales order -->

					<div class="modal fade modal-size-medium" id="createSalesModal" data-backdrop="static" data-keyboard="false" 
						tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
								<div class="row new_row">
								<div class="pull-left new_left">
								<h4>
									Create Sales Order
									</h4>
								</div>
								<div class="pull-right new_right">
								<button type="button" class="close" id="topCloseButton"
								(click)="closeModal('createSalesModal')"
										aria-label="Close">
										<i class="fa fa-times fa" aria-hidden="true"></i>
									</button>
								</div>
								</div>
									
									
								</div>
								<div class="modal-body" style="padding: 6px 6px !important;">
								<form [formGroup]="createSalesOrderForm">
									<div class="col-md-12 row">
									<div class="col-md-6">
										<label>Order Type<sup class="asterick">*</sup>
										</label> <select class="form-control create-edit-pop-txt-box" style="width: 225px !important;"
										formControlName="orderType"  validateOnBlur [validateFormControl]="createSalesOrderForm.controls['orderType']"
										>
											<option value="" >Please Select</option>
											<option value="direct">Direct Sales</option>
											<option value="sales">Sales Return</option>
										</select>
											 <span
											*ngIf="createSalesOrderForm.controls['orderType'].touched && createSalesOrderForm.controls['orderType'].invalid && createSalesOrderForm.controls['orderType'].dirty"
											class="error"> <small class="custom-error-class"
											*ngIf="createSalesOrderForm.controls['orderType'].errors.required">
												{{saleOrderMessages.order_type_req}} </small>
										</span>
									</div>
									<div class="col-md-6">
									<label>Customer<sup class="asterick">*</sup></label>
									<input type="text" class="form-control create-edit-pop-txt-box"
									formControlName="customer"  validateOnBlur [validateFormControl]="createSalesOrderForm.controls['customer']"
										 placeholder="Customer" style="width: 231px !important;"> 
										 <span
											*ngIf="createSalesOrderForm.controls['customer'].touched && createSalesOrderForm.controls['customer'].invalid && createSalesOrderForm.controls['customer'].dirty"
											class="error"> <small class="custom-error-class"
											*ngIf="createSalesOrderForm.controls['customer'].errors.required">
												{{saleOrderMessages.cust_req}}</small>
										</span>
							</div>
									
									</div>
									</form>
								</div>

								<div class="modal-footer">
								<div class="row new_row">
								<div class="pull-right new_right act_foot">
									<div class="pull-right new_right act_foot closePopUpOk">
										<button (click)="createSalesForm('createSalesModal')"  [disabled]="createSalesOrderForm.invalid"
											 [ngClass]="{'login-button':true ,'forgotOk':true,'btn-disabled':createSalesOrderForm.invalid }"
											>Ok</button>
									</div>
								</div>
								</div>
							</div>
						</div>
					</div>
</div>

					<!-- End of create sales order-->
