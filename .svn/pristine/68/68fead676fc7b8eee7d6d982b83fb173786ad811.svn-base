<section class="card" id="mainContent" style="padding-left:0px; padding-right:0px; padding-bottom:0px;">
<button type="button" name="addressBtn" id="addressBtn" (click)="getcustomerListById()" style="display:none;"></button>
<div style="padding-left:15px; padding-right:15px;" >
	<div class="card-header card-header-adjustments">
		<span class="cat__core__title"> <strong class="page-title">{{title}} ({{editOrderNum}})</strong>
		</span>
		<span class="pull-right">
			<i class="fa angle-down" id="angle-down" (click)="expandCollapseBlock('wizard-block','outBound-form-block','angle-down')"></i>
			<i class="fa angle-up" id="angle-up" (click)="expandCollapseBlock('wizard-block','outBound-form-block','angle-up')" style="display:none"></i>
		</span>
	</div>
	<div class="card-block db-block" id="wizard-block" style="padding-left:0px; padding-right:0px;padding-bottom:0px;">
		<div class="row">
			<div class="col-lg-12">
				<div class="mb-1">
							<div class="cat__wizard wizard clearfix row">
								<div  class="steps clearfix col-md-12">
									<ul id="steps-wizard">
										<li class="start" [ngClass]="{disabled:createSalesFlag,current:createdSales}"><a 
											href="javascript:void(0)"> 
											<i
												class="fa  cat__wizard__steps__icon"
												id="gs-GSTR1"><span class="font-number">1</span></i>
												 <i 
												class="fa fa-check cat__wizard__steps__icon" id="icon-GSTR1"
												style="display: none;"></i>
												<div class="cat_wizard_steps_title ell-spa" *ngIf="orderType=='ZKS' || orderType==null || orderType==''">
													Sales Order<span  class="" id="GSTR1"></span>
												</div>
												<div class="cat_wizard_steps_title ell-spa" *ngIf="orderType=='ZRKS'">
													Sales Return<span  class="" id="GSTR1"></span>
												</div>
										</a></li>

										<li style="cursor: text" [ngClass]="{disabled:deliveryFlag,current:deliveredFlag}"><a
											href="javascript:void(0)"> 
											<i (click)="navigateDelivery()"
												class="fa  cat__wizard__steps__icon"
												id="gs-GSTR2"><span class="font-number">2</span></i> <i
												class="fa fa-check cat__wizard__steps__icon" id="icon-GSTR2"
												style="display: none;"></i>
												<div class="cat_wizard_steps_title ell-spa">
													Delivery<span class="" id="GSTR2"></span>
												</div>
										</a></li>

										<li style="cursor: text" [ngClass]="{disabled:goodsFlag,current:goodsIssuedFlag}"><a
											 href="javascript:void(0)"> 
											 <i (click)="navigatePath('postgoodsissue')"
												class="fa  cat__wizard__steps__icon"
												id="gs-GSTR1A"><span class="font-number">3</span></i> 
												<i 
												class="fa fa-check cat__wizard__steps__icon"
												id="icon-GSTR1A" style="display: none;"></i>
												<div class="cat_wizard_steps_title ell-spa">
													<span *ngIf="orderType=='' || orderType=='ZKS'" id="pgi">Post Goods Issue</span>
													<span *ngIf="orderType=='ZRKS'" id="pgi">Post Goods Receipt</span>
													<span class="" id="GSTR1A"></span>
												</div>
										</a></li>
										<li style="cursor: text" class="last disabled"><a
											 href="javascript:void(0)"> 
											 <i (click)="navigateBilling()"
												class="fa  cat__wizard__steps__icon"
												id="gs-GSTR2A"><span class="font-number">4</span></i> <i
												class="fa fa-check cat__wizard__steps__icon"
												id="icon-GSTR2A" style="display: none;"></i>
												<div class="cat_wizard_steps_title ell-spa">
													Billing<span class="" id="GSTR1A"></span>
												</div>
										</a></li>
									</ul>

								</div>
							</div>
						</div>
					</div>
			</div>
	</div>
</div>
<div class="" *ngIf="createSalesBlock">
	<div class="card-block db-block mb-1" style="padding:0px;padding-left:15px; padding-right:15px;">
		<div class="row">
			<div class="col-lg-12">
			<div class="createSalesBlock" *ngIf="createSalesBlock">
				<div class="row">
					<!-- new changes -->
					<div class="outbound-content col-md-12 outBound-form-block" id="outBound-form-block">
					<form [formGroup]="salesOrderForm" autocomplete="off">
					 <div class="delivery-form-block col-md-12 row">
						<div class="col-md-2 text-align-sales">
							
						<label>Order Type<sup class="asterick">*</sup> </label>
						<select class="form-control create-edit-pop-select-box" [attr.disabled]="dsFlag ?  'disabled' : null">
							<option value="" >Please Select</option>
							<ng-container *ngFor="let odTypes of orderTypes; let i= index;">
								<ng-container>
									<option [value]="odTypes.key" [selected]="docType==odTypes.key">{{odTypes.value}}</option>
								</ng-container>
							</ng-container>
						</select>
						</div>
						<div class="col-md-2 text-align-sales col-md-outb" >
						
						<label class="label-elp">Requested  Delivery Date</label>
						<input type="text" class="form-control reqDate" disabled  name="req_date_h" id="reqDelDate"
						[value]="reqDate | date :'dd/MM/yyyy'"
						formControlName="req_date_h"  validateOnBlur [validateFormControl]="salesOrderForm.controls['req_date_h']">
						</div>
						<div class="col-md-2 text-align-sales col-md-outb select-col-md-1">
						
						<label>PO Number</label>
							<input type="text" class="form-control" name="purch_no_c" id="purchNoc"
							[value]="purNum" [attr.disabled]="displayFlag ?  'disabled' : null" 
							formControlName="purch_no_c"  validateOnBlur [validateFormControl]="salesOrderForm.controls['purch_no_c']">
						</div>
						<div class="col-md-2 text-align-sales col-md-outb select-col-md-1">
						
						<label>PO Date</label>
							<input type="text" class="form-control datepicker-init-sale" [attr.disabled]="displayFlag ?  'disabled' : null"  name="purch_date" id="purchDate"
							[value]="purDate | date :'dd/MM/yyyy'"
							formControlName="purch_date"  validateOnBlur [validateFormControl]="salesOrderForm.controls['purch_date']">
						</div>
						<div class="col-md-2 text-align-sales col-md-outb select-col-md">
						<label>Inco Terms</label>
							<select class="form-control create-edit-pop-select-box" id="incoTerms" [disabled]="displayFlag || orderType=='ZRKS'" >
								<option value="">Select Inco terms</option>
								<ng-container *ngIf="payIncoTermsListLength>0">
								<ng-container *ngFor="let inco of payIncoTermsList['ex_incoterms']; let i=index;">
									<option [value]="inco.inco_term" 
									[selected]="incoTerms1==inco.inco_term">{{inco.description}}</option>
								</ng-container>
								</ng-container>
							</select>
						</div>
						<div class="col-md-2 text-align-sales col-md-outb select-col-md">
						
						<label>Payment Terms</label>
							<select class="form-control create-edit-pop-select-box" id="payTerms" [disabled]="displayFlag || orderType=='ZRKS'" >
								<option value="">Select Payment terms</option>
								<ng-container *ngIf="payIncoTermsListLength>0">
								<ng-container *ngFor="let pay of payIncoTermsList['ex_pay_terms']; let i=index;">
									<option [value]="pay.pay_term"
									[selected]="payTerms==pay.pay_term">{{pay.description}}</option>
								</ng-container>
								</ng-container>
							</select>
						</div>
						</div>
						<div class="clear-fix"></div>
						 <div class="delivery-form-block col-md-12 row pb-1">
						<div class="col-md-3 text-align-sales">
						<label>Sold To Party<sup class="asterick">*</sup></label>
						<ng-container>
						<input type="text" title="{{sdName}}" class="form-control" formControlName="soldToParty" value="{{sdSubId}}-{{sdName}}"
						 validateOnBlur [validateFormControl]="salesOrderForm.controls['soldToParty']" [attr.disabled]="dsFlag ?  'disabled' : null">
							<span
											*ngIf="salesOrderForm.controls['soldToParty'].touched && salesOrderForm.controls['soldToParty'].invalid && salesOrderForm.controls['soldToParty'].dirty"
											class="error"> <small class="custom-error-class"
											*ngIf="salesOrderForm.controls['soldToParty'].errors.required">
											{{salesOrderMessage.sold_to_party_req}}	</small>
										</span>
							  <div class="txt-msg-block">
							  	<ng-container *ngIf="customerListLength>0">
							  	<label class="mb-0" style="font-size:10px !important;" *ngIf="customerList['ex_compliance'].gstin!=''"><strong>GSTN: </strong><span>{{customerList['ex_compliance'].gstin}}</span></label>
							  	<label  class="mb-0" style="font-size:10px !important;"><strong>PAN: </strong><span>{{customerList['ex_compliance'].pan_no}}</span></label>
							  	<label class="mb-0" style="font-size:10px !important;" *ngIf="customerList['ex_compliance'].lst_no!=''"><strong>DL: </strong><span>{{customerList['ex_compliance'].lst_no}}</span></label>
							  	<span *ngIf="customerList['ex_address'].addr_number!=''">Address: {{customerList['ex_address'].addr_number}} ,</span>
							  	<span *ngIf="customerList['ex_address'].street!=''">{{customerList['ex_address'].street}} ,</span>
							  	<span *ngIf="customerList['ex_address'].city!=''">{{customerList['ex_address'].city}} ,</span>
							  	 <span *ngIf="customerList['ex_address'].post_code!=''">{{customerList['ex_address'].post_code}} ,</span>
							  	<span *ngIf="customerList['ex_address'].telefone!=''">{{customerList['ex_address'].telefone}} ,</span>
							  	 <span *ngIf="customerList['ex_address'].country!=''">{{customerList['ex_address'].country}}</span>
							  	 </ng-container>
							  </div>
							  </ng-container>
						</div>
						<div class="col-md-3 text-align-sales">
						<label>Ship To Party  <!-- <i class="fa fa-edit" title="Edit Customer Address" (click)="editCustAddrs()" style="cursor:pointer; margin-left:5px;"></i> --></label>
						<ng-container>
						<input type="text" title="{{shName}}" class="form-control ajax-list" value="{{shSubId}}-{{shName}}" [attr.disabled]="(displayShip) ?  'disabled' : null" 
						list="addressList" id="shiptoparty" (keyup)="extractData('shiptoparty','spinner-search','salesajaxListBlock',$event)" >
						<i class="fa fa-spinner fa-spin spinner-icon" id="spinner-search" style="display:none"></i>
						<input type="hidden" name="shiptoId" id="shiptoCustomerId" [value]="shNameId"/>
						<div class="ajax-searchlist" style="display:none;width:100%;" id="salesajaxListBlock">
										<ul id="customerNamesBlock" class="custmore-list ajax-list">
											<ng-container *ngIf="customerNames.length>0">
											<li *ngFor="let cstList of customerNames; let i = index;" class="ajax-list" style="width:100%" (click)="selectedItem(cstList,'salesajaxListBlock','shiptoparty','shiptoCustomerId')"
											><span class="pull-left" style=";font-weight:600;">{{cstList.cust_name}}</span>
											<span class="pull-right">	{{cstList.cust_id}}</span>
											</li>
											</ng-container>
											<ng-container *ngIf="customerNames.length==0">
												<li>Customers are not found</li>
											</ng-container>
										</ul>
									</div>
							 <div class="txt-msg-block">
							 <ng-container *ngIf="customerShiptoPartyLenth>0">
							  	<label class="mb-0" style="font-size:10px !important;" *ngIf="customerShiptoParty['ex_compliance'].gstin!=''"><strong>GSTN: </strong><span>{{customerShiptoParty['ex_compliance'].gstin}}</span></label>
							  	<label  class="mb-0" style="font-size:10px !important;"><strong>PAN: </strong><span>{{customerShiptoParty['ex_compliance'].pan_no}}</span></label>
							  	<label class="mb-0" style="font-size:10px !important;" *ngIf="customerShiptoParty['ex_compliance'].gstin!=''"><strong>DL: </strong><span>{{customerShiptoParty['ex_compliance'].lst_no}}</span></label>
							  	<span *ngIf="customerShiptoParty['ex_address'].addr_number!=''">Address: {{customerShiptoParty['ex_address'].addr_number}} ,</span>
							  	<span *ngIf="customerShiptoParty['ex_address'].street!=' '">{{customerShiptoParty['ex_address'].street}} ,</span>
							  	<span *ngIf="customerShiptoParty['ex_address'].city!=' '">{{customerShiptoParty['ex_address'].city}} ,</span> 
							  	<span *ngIf="customerShiptoParty['ex_address'].post_code!=' '">{{customerShiptoParty['ex_address'].post_code}} ,</span>
							  	<span *ngIf="customerShiptoParty['ex_address'].telefone!=' '">{{customerShiptoParty['ex_address'].telefone}} ,</span> 
							  	<span *ngIf="customerShiptoParty['ex_address'].country!=' '">{{customerShiptoParty['ex_address'].country}}</span>
							  	</ng-container>
							  </div>
							 </ng-container>
						</div>
						<div class="col-md-6 text-align-sales">
						<label>Header Text</label>
							<textarea id="header_text" [attr.disabled]="displayFlag ?  'disabled' : null"  
							 class="form-control" placeholder="Special instruction" style="height:94px;" [value]="headerText"
							 ></textarea>
						</div>
						<div class="col-md-3 text-align-sales" *ngIf="orderType=='ZRKS'">
							<label>Reason for return <span class="mField">*</span></label>
							<select class="form-control create-edit-pop-select-box" id="reasonTypes" [attr.disabled]="displayFlag ?  'disabled' : null">
								<option value="">Select Reason Types</option>
								<ng-container *ngFor="let list of reasonList; let i=index;">
									<option [value]="list.key" [selected]="reasonCode==list.key"
									>{{list.value}}</option>
								</ng-container>
							</select>
						</div>
						<div class="col-md-12 text-align-sales pb-0">
							<table class="table table-hover nowrap editable-table totalTable totalSmry" style="display:inline-table;margin-bottom:0px;">
								<tbody>
									<tr>
										<td style="background:#e4e9f0;">Totals:</td>
										
										<td>
											<div class="pull-left">Fix Scheme: </div>
											<div class="pull-right">{{totalFixSheme | PriceInd}}</div>
										</td>
									
										<td>
											<div class="pull-left">Discount: </div>
											<div class="pull-right">{{totalAddDisAmt | PriceInd}}</div>
										</td>
										<td>
											<div class="pull-left">Net Value : </div>
											<div class="pull-right">{{totalNetval | PriceInd}}</div>
										</td>
									
										
										<td>
											<div class="pull-left">S/UGST : </div>
											<div class="pull-right">{{totalSgstVal | PriceInd}}</div>
										</td>
									
										<td>
											<div class="pull-left">CGST: </div>
											<div class="pull-right">{{totalCgstVal | PriceInd}}</div>
										</td>
										
										<td>
											<div class="pull-left">IGST: </div>
											<div class="pull-right">{{totalIgstVal | PriceInd}}</div>
										</td>
										<td>
											<div class="pull-left">Total Value : </div>
											<div class="pull-right">{{totalGrossVal | PriceInd}}</div>
										</td>
									</tr>
								</tbody>
							</table>
							
						</div>
						<!-- <div class="col-md-3 text-align-sales" *ngIf="orderType=='ZRKS'">
							<label>Bill Block</label>
							<select class="form-control create-edit-pop-select-box" id="billBlockTypes" [attr.disabled]="displayFlag ?  'disabled' : null">
								<option value="">Select Reason Types</option>
								<ng-container *ngFor="let list of billBlockList; let i=index;">
									<option [value]="list.key" [selected]="billCode==list.key"
									>{{list.value}}</option>
								</ng-container>
							</select>
						</div> -->
					</div>
					</form>
					</div>
					<div class="col-md-12 mt-2 mb-3">
					<button type="button" style="display:none" (click)="materialReverse(createSalesOrderItems)" id="material-input"></button>
					<input type="hidden" value="" id="changeMaterial"/>
							<div class="stock-table table-responsive">
								<table class="table table-hover nowrap editable-table checkBoxTable"
								width="100%" id="outbound-delivery-table">
								<thead>
									<tr>
										<th rowspan="2"  style="min-width:50px !important;text-align:center;" *ngIf="!displayFlag">
										<mat-checkbox  class="example-margin" id="checkbox-all" 
										[(ngModel)]="checked"
											[checked]="checked"
											[(indeterminate)]="indeterminate" 
											 (click)="selectAll($event,'checkbox-all-input','outbound-delivery-table')"></mat-checkbox></th>
										<th rowspan="2"  style="min-width:90px !important;">Item Number</th>
										<th rowspan="2"  style="min-width:100px !important;">Material</th>
										<th rowspan="2" style="min-width:80px !important;">Qty</th>
										<th rowspan="2" style="min-width:60px !important;">UOM</th>
										<th rowspan="2" style="min-width:130px !important;">Description</th>
										<th rowspan="2" style="min-width:80px !important;">Unit Price</th>
										<th rowspan="2" style="min-width:50px !important;">Fix.Sch.</th>
										<th rowspan="2" style="min-width:80px !important;">Sch.Val</th>
										<th rowspan="2" style="min-width:140px !important;" *ngIf="orderType=='ZKS'">Add Dis.</th>
										<th rowspan="2" style="min-width:80px !important;">Dis %/ Val</th>
										<th rowspan="2" style="min-width:80px !important;">Dis Amt</th>
										<th rowspan="2" style="min-width:100px !important;">Net Val</th>
										<th colspan="2" class="align-center">S/UGST</th>
										<th colspan="2" class="align-center">CGST</th>
										<th colspan="2" class="align-center">IGST</th>
										<th rowspan="2" style="min-width:80px !important;">Total Val</th>
										</tr>
										<tr>
										<th style="min-width:50px !important;">Rate</th>
										<th style="min-width:80px !important;">Value</th>
										<th style="min-width:50px !important;">Rate</th>
										<th style="min-width:80px !important;">Value</th>
										<th style="min-width:50px !important;">Rate</th>
										<th style="min-width:80px !important;">Value</th>
									</tr>
								</thead>
								<tbody>
									
								<ng-container *ngFor="let items of createSalesOrderItems; let i =index;">
										<tr id="sales-row-{{i}}" *ngIf="items.displayRow">
											<td style="min-width:50px !important;text-align:center;" *ngIf="!displayFlag">
												<mat-checkbox [disabled]="displayFlag  || items.dlv_stat_i=='C' || items.dlv_stat_i=='B' || items.dlv_stat_check=='C' || items.dlv_stat_check=='B'" class="example-margin" id="checkbox-{{i}}"  (click)="getReportList($event,'outbound-delivery-table',i,items)">
												</mat-checkbox></td>
											<td>{{items.itm_number}}</td>
											<td>
												<!-- [disabled]="displayFlag  || items.dlv_stat_i=='C' || items.dlv_stat_i=='B' || orderType=='ZRKS'"  name="mat_num-{{i}}"  placeholder="material number" (keyup)="findMaterialDetails(materialNum,items,'spinner-search-mat',i,'matajaxListBlock',$event)" -->
												
												<input type="text" autocomplete="off" [disabled]="displayFlag  || items.dlv_stat_i=='C' || items.dlv_stat_i=='B' || orderType=='ZRKS'" 
												class="form-control matNum ajax-list materialNum" name="mat_num-{{i}}"  placeholder="material number" (keyup)="findMaterialDetails(materialNum,items,'spinner-search-mat',i,'matajaxListBlock',$event)"
													[value]="createSalesOrderItems[i].mat_num" 
													[(ngModel)]="createSalesOrderItems[i].mat_num"  id="matNum-{{i}}" list="materialNumlist"  #materialNum/>
													<i class="fa fa-spinner fa-spin spinner-icon" id="spinner-search-mat-{{i}}" style="display:none;margin-top: -27%;margin-right: 2%;"></i>
												<div class="ajax-searchlist" style="display:none;width:15%;" id="matajaxListBlock-{{i}}">
										<ul id="customerNamesBlock" class="custmore-list ajax-list">
											<li *ngFor="let matList of matnrDetails;" id="{{i}}" class="ajax-list" style="width:100%" (click)="selectedMatrItem(matList,'matajaxListBlock','matNum',i,items)"
											><span class="pull-left" style=";font-weight:600;">{{matList.mat_num}}</span>
											<span class="pull-right">	{{matList.mat_name}}</span>
											</li>
										</ul>
									</div>
											</td>
											<td>
												<input type="text"   (change)="changeQtyCalculations(items,i)"  [disabled]="displayFlag  || items.dlv_stat_i=='C' || items.dlv_stat_i=='B'"  style="width:60px!important;" name="qty-{{i}}" placeholder="Quantity" 
												class="form-control matNum numbersOnly qty"  id="qty-{{i}}"
													[value]="items.qty" [(ngModel)]="items.qty" maxlength="5"/>
											</td>
											<td>
												{{items.uom}}
											</td>
											<td>
												<!-- [disabled]="displayFlag  || items.dlv_stat_i=='C' || items.dlv_stat_i=='B' || orderType=='ZRKS'" -->
												<input type="text" autocomplete="off" disabled   name="desc-{{i}}" placeholder="desc"  class="form-control matNum ajax-list" (keyup)="findMaterialDetails(desc,items,'spinner-search-desc',i,'matnmeajaxListBlock',$event)"  
													[value]="items.desc" [(ngModel)]="items.desc"  id="desc-{{i}}" list="desclist" #desc/>
													<i class="fa fa-spinner fa-spin spinner-icon" id="spinner-search-desc-{{i}}" style="display:none;margin-top: -15%;margin-right: 2%;"></i>
													<div class="ajax-searchlist" style="display:none;width:15%;" id="matnmeajaxListBlock-{{i}}">
										<ul id="customerNamesBlock" class="custmore-list ajax-list">
											<li *ngFor="let matList of matnrDetails;" style="width:100%" class="ajax-list" (click)="selectedMatrItem(matList,'matnmeajaxListBlock','desc',i,items)"
											><span class="pull-left" style=";font-weight:600;">{{matList.mat_name}}</span>
											<span class="pull-right">	{{matList.mat_num}}</span>
											</li>
										</ul>
									</div>
											</td>
											<td align="right">
												<!-- [disabled]="displayFlag  || items.dlv_stat_i=='C' || items.dlv_stat_i=='B' || orderType=='ZRKS' || priceEnable" -->
												<input type="text"  id="price-{{i}}" (change)="changeQtyCalculations(items,i)" name="price" placeholder="Price" 
												class="form-control matNum numbersOnly1"  [disabled]="displayFlag  || items.dlv_stat_i=='C' || items.dlv_stat_i=='B' || orderType=='ZRKS' || priceEnable"
													[value]="items.price" [(ngModel)]="items.price" id="price-{{i}}"/>
											</td>
											<td> {{items.fix_sch}} <span *ngIf="items.schTypeSymbol=='per' && items.fix_sch!=''">%</span></td>
											<td align="right"> {{items.sch_val | PriceInd}}</td>
											<td *ngIf="orderType=='ZKS'">
												<select class="form-control create-edit-pop-select-box" 
												[disabled]="displayFlag  || items.dlv_stat_i=='C' || items.dlv_stat_i=='B'"  style="padding:5px 0px 5px 5px !important; font-size:12px !important;" name="add_dis"
												[(ngModel)]="items.add_dis" (change)="changeQtyCalculations(items,i)">
												<option value="">Select Dis type</option>
													<option value="ZPER">Per.Discount</option>
													<option value="ZVAL">Val.Discount</option>
												</select>
											</td>
											<td>
												<input type="text" id="amt-{{i}}" name="dis_per_val" 
												[disabled]="displayFlag  || items.dlv_stat_i=='C' || items.dlv_stat_i=='B' || orderType=='ZRKS'"  placeholder="discount per val per"
												 class="form-control matNum numbersOnly" 
													[value]="items.dis_per_val | customround" [(ngModel)]="items.dis_per_val" (change)="changeQtyCalculations(items,i)"/>
													<i class="fa fa-percent per-icon" *ngIf="items.add_dis=='ZPER'" id="perIcon"></i>
												<i class="fa fa-rupee per-icon" *ngIf="items.add_dis=='ZVAL'" id="valIcon"></i>
											</td>
											<td align="right"> {{items.dis_amt | PriceInd}}</td>
											<td align="right"> {{items.net_val | PriceInd}}</td>
											<td>{{items.sgst_rt}}</td>
											<td align="right"> {{items.sgst_val | PriceInd}}</td>
											<td>{{items.cgst_rt}}</td>
											<td align="right"> {{items.cgst_val | PriceInd}}</td>
											<td>{{items.igst_rt}}</td>
											<td align="right"> {{items.igst_val | PriceInd}}</td>
											<td align="right"> {{items.grossValue | PriceInd}}</td>
										</tr>
								</ng-container>
									
								</tbody>
								<!-- <tfoot>
									<tr>
										<td colspan="11"></td>
										<td align=right>{{totalNetval}}</td>
										<td align="right"></td>
										<td align="right">{{totalSgst}}</td>
										<td></td>
										<td align="right">{{totalCgst}}</td>
										<td></td>
										<td align="right">{{totalIgst}}</td>
										<td align="right">{{totalGrossVl}}</td>
									</tr>
								</tfoot> -->
								</table>
							</div>						
						</div>
					<!-- end chnges -->
				</div>
			</div>
		</div>
		</div>
	</div>
<div class="outbound-footer mt-3" style="display:none;">
<div class="pull-left" style="max-width:47%">
			<button class="cancel-button-export" style="padding-left:0px;" (click)="redirectSalesOrder()">
				<i class="fa back-icon" style="margin-right:4px;padding-right:4px;">
				<div class="icon-text" style="right:-4px;">Back</div>
				</i>
			</button>
		</div>
		
		<div class="left-block">
		<div class="pull-left" *ngIf="!displayFlag">
		<div class="pull-left" style="max-width:47%" *ngIf="orderType=='ZKS'">
			<button class="login-button" (click)="AddMoreLinesOfItems()">
			<i class="fa fa-plus" style="margin-right:4px;font-size:16px"></i> Add Lines</button>
		</div>
		<div class="pull-left">
			<button class="cancel-button-export btn-margin" style="padding-left:0px;" (click)="removeLineSelectedItems()">
				<i class="fa cancel-icon" style="margin-right:4px;padding-right:4px;">
				<div class="icon-text" style="right:-4px;">Remove Line</div>
				</i>
			</button>
		</div>
		</div>
		<div class="pull-left" style="max-width:47%">
			<button title="Create New Sales Order/Returns" style="padding-left:8px;" class="login-button-export btn-margin" (click)="createNewSO()">
				<i class="fa create-icon" style="margin-right:0px;padding-right:4px;width:24px;height:24px">
				</i>
			</button>
		</div>
		</div>
		
		<div class="right-block">
		{{displayFlag}} {{enableSchemes}} 
		<div class="pull-left" *ngIf="orderType=='ZKS' && enableSchemes && !displayFlag"  style="margin-right:8px;">
				<mat-checkbox class="example-margin" id="checkbox-schemes-all" 
				[(ngModel)]="schemesFlag" [checked]="schemesFlag" (click)="enableSchemesByUser('checkbox-schemes-all')"
				>Enable Schemes</mat-checkbox>
			</div>
		<div class="pull-left"  *ngIf="displayFlag">
			<button title="Edit" style="padding-left:8px;" class="login-button-export" (click)="editSalesOrder()">
				<i class="fa edit-icon" style="margin-right:0px;padding-right:4px;width:24px;height:24px;">
				</i>
			</button>
			</div>
		<div class="pull-left">
			<button title="Print / Preview" class="login-button-export" (click)="salesOrderListPrint()" style="padding-left:8px">
			<i class="fa print-icon" style="margin-right:0px;width:24px;height:24px;">
			</i>
			</button>
			</div>	
		<div *ngIf="!displayFlag" class="pull-left">
			<div class="pull-left">
				<button title="Display Scheme" style="padding-left:5px;" class="login-button-export Btn-margin" (click)="displaySchemeList()">
					<i class="fa scheme-icon" style="margin-right:2px;padding-right:4px;width:24px;height:24px;">
					</i>
				</button>
			</div>
			<div class="pull-left" *ngIf="orderType=='ZKS'">
			<button title="Calculate Total" style="padding-left:4px" class="login-button-export Btn-margin" [attr.disabled]="calcBtn ?  'disabled' : null" (click)="calculatePrice('calc')">
				<i class="fa calc-icon" style="margin-right:2px;padding-right:4px;width:24px;height:24px;">
				</i>
			</button>
			</div>
			<div class="pull-left" *ngIf="orderType=='ZKS'">
				<input type="file" name="file" id="uploadExcel" style="display:none;">
			<button class="login-button-export Btn-margin" style="display:none;" id="mergeItemList" (click)="mergeItemsList()"></button>
			<button title="Upload Excel" style="padding-left:8px;" class="login-button-export Btn-margin" (click)="uploadExcel()" style="padding-left:4px;">
				<i class="fa upexcel-icon" style="margin-right:0px;padding-right:4px;width:24px;height:24px;">
				</i>
			</button>
			</div>
			<div class="pull-left">
			<button class="save-icon-btn" (click)="calculatePrice('save')" [attr.disabled]="saveBtn ?  'disabled' : null">
				<i class="fa save-icon" style="margin-right:4px;padding-right:4px;">
				<div class="icon-text" style="right:-4px;">Save</div>
				</i>
			</button>
			</div>
		</div>
			<div class="pull-left">
			<button class="cancel-button-export" (click)="cancelSalesOrder()" style="padding-left:0px;">
				<i class="fa cancel-icon" style="margin-right:4px;padding-right:4px;">
				<div class="icon-text" style="right:-4px;">Cancel SO/SR</div>
				</i>
			</button>
		</div>
		</div>
	</div>
</div>
 <div class="deliveryBlock" *ngIf="outboundDeliberyBlock">
	<app-edit-outbound-delivery ></app-edit-outbound-delivery>
</div>
<div class="billingBlock" *ngIf="billingBlock">
	<app-edit-billing-details></app-edit-billing-details>
</div>
</section>
<!--create schemes modal -->

					<div class="modal fade modal-size-medium sales-d-scheme" id="displaySchemesModal" data-backdrop="static" data-keyboard="false" 
						tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
						<div class="modal-dialog modal-lg" role="document" style="max-width:800px;">
							<div class="modal-content">
								<div class="modal-header">
								<div class="row new_row">
								<div class="pull-left new_left">
								<h4>Trade Scheme
									</h4>
								</div>
								<div class="pull-right new_right">
								<button type="button" class="close" id="topCloseButton"
								(click)="closeModalId('displaySchemesModal')"
										aria-label="Close">
										<i class="fa fa-times fa" aria-hidden="true"></i>
									</button>
								</div>
								</div>
								</div>
								<div class="modal-body" style="max-height:280px !important;">
									<div class="col-md-12">
										<table class="table table-hover nowrap editable-table checkBoxTable" width="100%" id="schemesTable" style="display:inline-table;margin:0px !important">
											<thead>
												<tr>
													<th>Commission Group</th>
													<th>Material</th>
													<th colspan="4">Material Desc</th>
													<!-- <th width="80px">Qty</th> -->
													<!-- <th width="80px">Min Qty</th>
													<th width="80px">Max Qty</th>
													<th width=80px;>UOM</th>
													<th>Discount Per</th>
													<th>Discount Val</th> -->
													
												</tr>
											</thead>
											<tbody *ngIf="customerListLength>0">
											<ng-container *ngFor="let schList of comGrpList; let i=index">
											<tr>
												<td [attr.rowspan]="schList['mtrlGroup'].length" id="group-{{schList.groupId}}">{{schList.groupId}} - {{schList.groupDesc}}
												</td>
												<ng-container *ngFor="let mSch of schList.mtrlGroup; let j=index;">
													<ng-container *ngIf="j==0">
														<td>{{mSch.mat_id}}</td>
														<td colspan="4"><span class="pull-left">{{mSch.mat_desc}}</span>
															<ng-container *ngIf="mSch.schemes.length>0">
																	<i class="fa plus-circle-icon  expand pull-right"
																 id="plus-{{i}}-{{j}}" style="cursor:pointer;height:20px;margin-left:5px;"
																(click)="expandChildRows(i,schList,mSch,j)">
															</i>
															<i class="fa minus-circle-icon  expand pull-right"
																 id="minus-{{i}}-{{j}}" style="display:none;cursor:pointer;height:20px;margin-left:5px;"
																(click)="expandChildRows(i,schList,mSch,j)">
															</i>
															
															</ng-container>
														</td>
													</ng-container>
												</ng-container>
											</tr>
											<ng-container *ngFor="let mSch of schList.mtrlGroup; let j=index;">
												<ng-container *ngIf="j==0">
													<ng-container *ngFor="let sch of mSch.schemes; let k=index;">
														<ng-container *ngIf="k==0">
															<tr style="display:none" class="schemes-row mat-{{mSch.mat_id}}">
																<td>UOM</td>
																<td>Min Qty</td>
																<td>Max Qty </td>
																<td>Discount %</td>
																<td>Discount val</td>
															</tr>
														</ng-container>
															<tr style="display:none" class="mat-{{mSch.mat_id}}">
																<td>{{sch.uom}}</td>
																<td>{{sch.min_quan | customround}}</td>
																<td>{{sch.max_quan | customround}}</td>
																<td>{{sch.rate}} %</td>
																<td>&#8377; {{sch.rate_value}}</td>
																
															</tr>
													</ng-container>
												</ng-container>
													<ng-container *ngIf="j>0">
													<tr>
														<td>{{mSch.mat_id}}</td>
														<td colspan="4">
														<span class="pull-left">{{mSch.mat_desc}}</span>
														<ng-container *ngIf="mSch.schemes.length>0">
																	<i class="fa plus-circle-icon  expand pull-right"
																 id="plus-{{i}}-{{j}}" style="cursor:pointer;height:20px;margin-left:5px;"
																(click)="expandChildRows(i,schList,mSch,j)">
															</i>
															<i class="fa minus-circle-icon  expand pull-right"
																 id="minus-{{i}}-{{j}}" style="display:none;cursor:pointer;height:20px;margin-left:5px;"
																(click)="expandChildRows(i,schList,mSch,j)">
															</i>
															
															</ng-container>
														</td>
													</tr>
													<ng-container *ngFor="let sch of mSch.schemes; let k=index;">
														<ng-container *ngIf="k==0">
															<tr style="display:none" class="schemes-row mat-{{mSch.mat_id}}">
																<td>UOM</td>
																<td>Min Qty</td>
																<td>Max Qty </td>
																<td>Discount %</td>
																<td>Discount val</td>
															</tr>
														</ng-container>
															<tr style="display:none" class="mat-{{mSch.mat_id}}">
																<td>{{sch.uom}}</td>
																<td>{{sch.min_quan | customround}}</td>
																<td>{{sch.max_quan | customround}}</td>
																<td>{{sch.rate}} %</td>
																<td>&#8377; {{sch.rate_value}}</td>
																
															</tr>
													</ng-container>
													</ng-container>
											</ng-container>
													
													
														<!-- <tr>
															<td [attr.rowspan]="schList['schemes'].length">{{schList.mat_id}} - {{schList.mat_desc}}</td>
															<ng-container *ngFor="let mSch of schList.schemes; let j=index;">
																<ng-container *ngIf="j==0">
																	<td>{{mSch.qty | customround}}</td>
																	<td>{{mSch.min_quan | customround}}</td>
																	<td>{{mSch.max_quan | customround}}</td>
																	<td>{{mSch.uom}}</td>
																	<td>{{mSch.rate}} %</td>
																	<td>&#8377; {{mSch.rate_value}}</td>
																	
																</ng-container>
															</ng-container>
															</tr>
															<ng-container *ngFor="let mSch of schList.schemes; let j=index;">
																<ng-container *ngIf="j>0">
																<tr>
																	<td>{{mSch.qty | customround}}</td>
																	<td>{{mSch.min_quan | customround}}</td>
																	<td>{{mSch.max_quan | customround}}</td>
																	<td>{{mSch.uom }}</td>
																	<td>{{mSch.rate}} %</td>
																	<td>&#8377; {{mSch.rate_value}}</td>
																	</tr>
																</ng-container>
															</ng-container> -->
															
											</ng-container>
											</tbody>
										</table>
									</div>
								</div>
								<div class="modal-footer">
								<div class="row new_row">
								<div class="pull-right new_right act_foot">
									<div class="pull-right new_right act_foot closePopUpOk">
										<button (click)="closeModalId('displaySchemesModal')"
											 Class="login-button forgotOk"
											>Ok</button>
										<button (click)="closeModalId('displaySchemesModal')"
											 Class="cancel-button forgotOk"
											>Cancel</button>
									</div>
								</div>
								</div>
							</div>
						</div>
					</div>
</div>

<!--Error display modal -->

					<div class="modal fade modal-size-medium" id="displayErrorsModal" data-backdrop="static" data-keyboard="false" 
						tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
								<div class="row new_row">
								<div class="pull-left new_left">
								<h4>Display Errors
									</h4>
								</div>
								<div class="pull-right new_right">
								<button type="button" class="close" id="topCloseButton"
								(click)="closeModal('displayErrorsModal')"
										aria-label="Close">
										<i class="fa fa-times fa" aria-hidden="true"></i>
									</button>
								</div>
								</div>
								</div>
								<div class="modal-body" style="padding: 6px 6px !important;">
									<div class="col-md-12 row">
										<table class="table table-hover nowrap editable-table checkBoxTable" width="100%" id="errorTable" style="display:inline-table;">
											<thead>
												<tr>
													<th>Error Code</th>
													<th>Error Description</th>
												</tr>
											</thead>
											<tbody>
											<ng-container *ngFor="let erList of errorList; let i=index">
												<tr *ngIf="erList.type=='E'">
													<td>{{erList.id}}</td>
													<td>{{erList.message}}</td>
												</tr>
												</ng-container>
											</tbody>
										</table>
									</div>
								</div>
								<div class="modal-footer">
								<div class="row new_row">
								<div class="pull-right new_right act_foot">
									<div class="pull-right new_right act_foot closePopUpOk">
										<button (click)="closeModal('displayErrorsModal')"
											 Class="cancel-button forgotOk"
											>Cancel</button>
									</div>
								</div>
								</div>
							</div>
						</div>
					</div>
		</div>
		<!--create sales order -->

					<div class="modal fade modal-size-medium" id="createSalesModal" data-backdrop="static" data-keyboard="false" 
						tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
								<div class="row new_row">
								<div class="pull-left new_left">
								<h4>
									Create Sales Order
									</h4>
								</div>
								<div class="pull-right new_right">
								<button type="button" class="close" id="topCloseButton"
								(click)="closeModalSales('createSalesModal')"
										aria-label="Close">
										<i class="fa fa-times fa" aria-hidden="true"></i>
									</button>
								</div>
								</div>
									
									
								</div>
								<div class="modal-body-block" style="padding: 6px 6px !important;">
								<form [formGroup]="createSalesOrderForm" autocomplete="off">
									<div class="col-md-12 row">
									<div class="col-md-4">
										<label>Order Type<sup class="asterick">*</sup>
										</label> <select class="form-control create-edit-pop-txt-box" style="width: 100% !important;padding:5px !important;"
										formControlName="orderType" id="orderTypes" validateOnBlur [validateFormControl]="createSalesOrderForm.controls['orderType']"
										>
											<option value="" >Please Select</option>
											<ng-container *ngFor="let odTypes of orderTypes; let i= index;">
												<option [value]="odTypes.key">{{odTypes.value}}</option>
											</ng-container>
										</select>
											 <span
											*ngIf="createSalesOrderForm.controls['orderType'].touched && createSalesOrderForm.controls['orderType'].invalid && createSalesOrderForm.controls['orderType'].dirty"
											class="error"> <small class="custom-error-class"
											*ngIf="createSalesOrderForm.controls['orderType'].errors.required">
												{{saleOrderMessages.order_type_req}} </small>
										</span>
									</div>
									<div class="col-md-8" *ngIf="createSalesOrderForm.value['orderType']=='' || createSalesOrderForm.value['orderType']=='ZKS'">
									<label>Customer<sup class="asterick">*</sup></label>
									<input type="text" list="customerNamesBlock" class="form-control ajax-list" (keyup)="extractData('modal-name','spinner-search-modal','ajaxListBlock',$event)" id="modal-name"
									formControlName="customer" validateOnBlur [validateFormControl]="createSalesOrderForm.controls['customer']"
											 placeholder="Customer"  style="width: 311px !important;padding:5px !important;"  />
									<i class="fa fa-spinner fa-spin spinner-icon" id="spinner-search-modal" style="display:none;margin-right:-7%;margin-top:-9%;"></i>
									<input type="hidden" name="customerId" value="" id="modal-searchInput">
									<div class="ajax-searchlist" style="display:none;width:100%;" id="ajaxListBlock">
										<ul id="customerNamesBlock" class="custmore-list ajax-list">
											<ng-container *ngIf="customerNames.length>0">
											<li *ngFor="let cstList of customerNames; let i = index;" id="list-{{i}}" class="ajax-list"  (click)="selectedItem(cstList,'ajaxListBlock','modal-name','modal-searchInput')"
											><span class="pull-left custName" title="{{cstList.cust_name}}" style="font-weight:600;">{{cstList.cust_name}}</span>
											<span class="pull-right">	{{cstList.cust_id}}</span>
											</li>
											</ng-container>
											<ng-container *ngIf="customerNames.length==0">
												<li>Customers are not found</li>
											</ng-container>
										</ul>
									</div>
										 <span
											*ngIf="createSalesOrderForm.controls['customer'].touched && createSalesOrderForm.controls['customer'].invalid && createSalesOrderForm.controls['customer'].dirty"
											class="error"> <small class="custom-error-class"
											*ngIf="createSalesOrderForm.controls['customer'].errors.required">
												{{saleOrderMessages.cust_req}}</small>
										</span>
							</div>
							<div class="col-md-8" *ngIf="createSalesOrderForm.value['orderType']=='ZRKS'">
							<label>Invoice Number</label>
							<input type="text" list="customerNamesBlock" class="form-control ajax-list numbersOnly"  id="invoice-num"
									formControlName="invoiceNum" validateOnBlur [validateFormControl]="createSalesOrderForm.controls['invoiceNum']"
											 placeholder="Invoice number"  style="width: 313px !important;padding:5px !important;"  />
							<span
											*ngIf="createSalesOrderForm.controls['invoiceNum'].touched && createSalesOrderForm.controls['invoiceNum'].invalid && createSalesOrderForm.controls['invoiceNum'].dirty"
											class="error"> <small class="custom-error-class"
											*ngIf="createSalesOrderForm.controls['invoiceNum'].errors.required">
												{{saleOrderMessages.cust_req}}</small>
										</span>
								</div>
									
									</div>
									</form>
								</div>

								<div class="modal-footer">
								<div class="row new_row">
								<div class="pull-right new_right act_foot">
									<div class="pull-right new_right act_foot closePopUpOk">
										<button (click)="createSalesForm('createSalesModal')"  [disabled]="createSalesOrderForm.invalid"
											 [ngClass]="{'login-button':true ,'forgotOk':true,'btn-disabled':createSalesOrderForm.invalid }"
											>Ok</button>
										<button (click)="closeModalSales('createSalesModal')"
											 Class="cancel-button forgotOk"
											>Cancel</button>
									</div>
								</div>
								</div>
							</div>
						</div>
					</div>
</div>

					<!-- End of create sales order-->
					
					<!--Delivery modal -->

					<div class="modal fade modal-size-medium" id="displayDeliveryModal" data-backdrop="static" data-keyboard="false" 
						tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
						<div class="modal-dialog" role="document">
							<div class="modal-content"> 
								<div class="modal-header">
								<div class="row new_row">
								<div class="pull-left new_left">
								<h4>Display Delivery Numbers
									</h4>
								</div>
								<div class="pull-right new_right">
								<button type="button" class="close" id="topCloseButton"
								(click)="closeModal('displayDeliveryModal')"
										aria-label="Close">
										<i class="fa fa-times fa" aria-hidden="true"></i>
									</button>
								</div>
								</div>
								</div>
								<div class="modal-body" style="padding: 6px 6px !important;">
									<div class="col-md-12 row">
									<mat-radio-group class="example-radio-group" [(ngModel)]="reqDlvrNum">
										  <mat-radio-button class="example-radio-button mb-3 ml-2 mt-2 mr-1" *ngFor="let dl of dlvlist; let j=index" [value]="dl">
										    {{dl}}
										  </mat-radio-button>
										</mat-radio-group>
									</div>
								</div>
								<div class="modal-footer">
								<div class="row new_row">
								<div class="pull-left" *ngIf="dlvStatus=='B'">
									<button (click)="createDeliveryById()"
											 Class="login-button forgotOk"
											>Create New Delivery</button>
								</div>
								<div class="pull-right new_right act_foot">
									<div class="pull-right new_right act_foot closePopUpOk">
									<button (click)="editDelieryById()"
											 Class="login-button forgotOk"
											>Ok</button>
										<button (click)="closeModal('displayDeliveryModal')"
											 Class="cancel-button forgotOk"
											>Cancel</button>
									</div>
								</div>
								</div>
							</div>
						</div>
					</div>
		</div>
		
<!--Error display modal in Excel-->
<div class="modal fade modal-size-medium" id="displayExcelErrorsModal"
	data-backdrop="static" data-keyboard="false" tabindex="-1"
	role="dialog" aria-labelledby="" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<div class="row new_row">
					<div class="pull-left new_left">
						<h4>Display Errors</h4>
					</div>
					<div class="pull-right new_right">
						<button type="button" class="close" id="topCloseButton"
							(click)="closeModal('displayExcelErrorsModal')" aria-label="Close">
							<i class="fa fa-times fa" aria-hidden="true"></i>
						</button>
					</div>
				</div>
			</div>
			<div class="modal-body" style="padding: 6px 6px !important;">
				<div class="col-md-12 row">
					<table
						class="table table-hover nowrap editable-table checkBoxTable"
						width="100%" id="errorExcelTable" style="display: inline-table;">
						<thead>
							<tr>
								<th>Error Description</th>
							</tr>
						</thead>
						<tbody>
							
						</tbody>
					</table>
				</div>
			</div>
			<div class="modal-footer">
				<div class="row new_row">
					<div class="pull-right new_right act_foot">
						<div class="pull-right new_right act_foot closePopUpOk">
							<!-- <button (click)="closeModal('displayExcelErrorsModal')"
											 Class="login-button forgotOk"
											>Ok</button> -->
							<button (click)="closeModal('displayExcelErrorsModal')"
								Class="cancel-button forgotOk">Cancel</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>		

<!-- Edit One time Customer Address -->
<div class="modal fade modal-size-medium" id="oneTimeCustomerModal"
	data-backdrop="static" data-keyboard="false" tabindex="-1"
	role="dialog" aria-labelledby="" aria-hidden="true">
	<div class="modal-dialog modal-lg" role="document" style="margin-top:5% !important;">
		<div class="modal-content">
			<div class="modal-header">
				<div class="row new_row">
					<div class="pull-left new_left">
						<h4>Customer Address</h4>
					</div>
					<div class="pull-right new_right"> 
						<button type="button" class="close" id="topCloseButton"
							(click)="closeModal('oneTimeCustomerModal')" aria-label="Close">
							<i class="fa fa-times fa" aria-hidden="true"></i>
						</button>
					</div>
				</div>
			</div>
			<div class="modal-body" style="padding: 6px 6px !important;">
			<form [formGroup]="oneTimeCustForm">
				<div class="col-md-12">
							<div class="row">
							<div class="col-md-6">
								<div class="form-group ">
									<label class="form-label font-weight-custom">First Name <span class="mField">*</span>
									</label> <input name="addressLine1" type="text"
										class="form-control input-width-custom" 
										formControlName="firstname" validateOnBlur
										id="" maxlength="40"
										[validateFormControl]="oneTimeCustForm.controls['firstname']"
										name="firstname" placeholder="First Name"
										[value]="custAddress.name" [(ngModel)]="custAddress.name">
								</div>
								<span
									*ngIf="oneTimeCustForm.controls['firstname'].touched && !oneTimeCustForm.controls['firstname'].valid && oneTimeCustForm.controls['firstname'].dirty"
									class="error"> <small
									*ngIf="oneTimeCustForm.controls['firstname'].errors.required">
										{{salesAddressMessage.firstname}} </small>
								</span>
							</div>
							<div class="col-md-6">
									<div class="form-group">
										<label class="form-label font-weight-custom"> State<span
											class="mField">*</span>
										</label> <select class="form-control input-width-custom"
											name="stateId"
											formControlName="stateId" validateOnBlur
											[validateFormControl]="oneTimeCustForm.controls['stateId']"
											style="margin-top: 1px !important; padding: 5px !important;"
											id="state_id" 
											 [(ngModel)]="state"
											>

											<option value="" disabled>Please
												Select State</option>
											<option *ngFor="let state of states" [value]="state.id" [selected]="state==state.id">
												{{state.value}}</option>
										</select>
									</div>
									<span
										*ngIf="oneTimeCustForm.controls['stateId'].touched && !oneTimeCustForm.controls['stateId'].valid && oneTimeCustForm.controls['stateId'].dirty"
										class="error"> <small
										*ngIf="oneTimeCustForm.controls['stateId'].errors.required">
											 {{salesAddressMessage.state}}</small>

									</span>
								</div>
								<div class="clear-fix"></div>
							<div class="col-md-12" style="padding-left:0px;">
							<div class="col-md-6">
								<div class="form-group ">
									<label class="form-label font-weight-custom">City <span class="mField">*</span>
									</label> <input name="city" type="text"
										class="form-control input-width-custom" 
										formControlName="city" validateOnBlur
										id="" maxlength="40"
										[validateFormControl]="oneTimeCustForm.controls['city']"
									    name="city" placeholder="City"
										[value]="custAddress.city" [(ngModel)]="custAddress.city">
								</div>
								<span
									*ngIf="oneTimeCustForm.controls['city'].touched && !oneTimeCustForm.controls['city'].valid && oneTimeCustForm.controls['city'].dirty"
									class="error"> <small
									*ngIf="oneTimeCustForm.controls['city'].errors.required">
										 {{salesAddressMessage.city}}</small>
								</span>
							</div>
							</div>
							<div class="clear-fix seperate-line"></div>
							<div class="col-md-6">
								<div class="form-group ">
									<label class="form-label font-weight-custom">Last Name
									</label> <input name="addressLine1" type="text"
										class="form-control input-width-custom" 
										formControlName="lastname" validateOnBlur
										id="" maxlength="40"
										[validateFormControl]="oneTimeCustForm.controls['lastname']"
										name="lastname" placeholder="Last Name"
										[value]="custAddress.name_2" [(ngModel)]="custAddress.name_2">
								</div>
								<span
									*ngIf="oneTimeCustForm.controls['lastname'].touched && !oneTimeCustForm.controls['lastname'].valid && oneTimeCustForm.controls['lastname'].dirty"
									class="error"> <small
									*ngIf="oneTimeCustForm.controls['lastname'].errors.required">
										 {{salesAddressMessage.lastname}}</small>
								</span>
							</div>
							<div class="col-md-6">
								<div class="form-group ">
									<label class="form-label font-weight-custom">House Number
									</label> <input name="hsno" type="text"
										class="form-control input-width-custom" 
										formControlName="hsno" validateOnBlur
										id="" maxlength="10"
										[validateFormControl]="oneTimeCustForm.controls['hsno']"
										 placeholder="House Number"
										[value]="custAddress.house_no_long" [(ngModel)]="custAddress.house_no_long">
								</div>
								<span
									*ngIf="oneTimeCustForm.controls['hsno'].touched && !oneTimeCustForm.controls['hsno'].valid && oneTimeCustForm.controls['hsno'].dirty"
									class="error"> <small
									*ngIf="oneTimeCustForm.controls['hsno'].errors.required">
										 {{salesAddressMessage.houseNum}}</small>
								</span>
							</div>
							<div class="clear-fix"></div>
							<div class="col-md-6">
								<div class="form-group ">
									<label class="form-label font-weight-custom">Street
									</label> <input name="hsno" type="text"
										class="form-control input-width-custom" 
										formControlName="streetNo" validateOnBlur
										id="" maxlength="60"
										[validateFormControl]="oneTimeCustForm.controls['streetNo']"
										 placeholder="Street"
										[value]="custAddress.street" [(ngModel)]="custAddress.street">
								</div>
								<span
									*ngIf="oneTimeCustForm.controls['streetNo'].touched && !oneTimeCustForm.controls['streetNo'].valid && oneTimeCustForm.controls['streetNo'].dirty"
									class="error"> <small
									*ngIf="oneTimeCustForm.controls['streetNo'].errors.required">
										 {{salesAddressMessage.streetNo}}</small>
								</span>
							</div>
							<div class="col-md-6">
								<div class="form-group ">
									<label class="form-label font-weight-custom">Street1
									</label> <input name="hsno" type="text"
										class="form-control input-width-custom" 
										formControlName="street1" validateOnBlur
										id="" maxlength="40"
										[validateFormControl]="oneTimeCustForm.controls['street1']"
										 placeholder="Street1"
										[value]="custAddress.str_suppl1" [(ngModel)]="custAddress.str_suppl1">
								</div>
								<span
									*ngIf="oneTimeCustForm.controls['street1'].touched && !oneTimeCustForm.controls['street1'].valid && oneTimeCustForm.controls['street1'].dirty"
									class="error"> <small
									*ngIf="oneTimeCustForm.controls['street1'].errors.required">
										 {{salesAddressMessage.streetNo}}</small>
								</span>
							</div>
							<div class="clear-fix"></div>
							<div class="col-md-6">
								<div class="form-group ">
									<label class="form-label font-weight-custom">Postal Code
									</label> <input name="postcode" type="text"
										class="form-control input-width-custom" 
										formControlName="postcode" validateOnBlur
										id="" maxlength="10"
										[validateFormControl]="oneTimeCustForm.controls['postcode']"
										name="postcode" placeholder="Postal Code"
										[value]="custAddress.postl_code" [(ngModel)]="custAddress.postl_code">
								</div>
								<span
									*ngIf="oneTimeCustForm.controls['postcode'].touched && !oneTimeCustForm.controls['postcode'].valid && oneTimeCustForm.controls['postcode'].dirty"
									class="error"> <small
									*ngIf="oneTimeCustForm.controls['postcode'].errors.required">
										 {{salesAddressMessage.postalcode}}</small>
										 <small
									*ngIf="oneTimeCustForm.controls['postcode'].errors.pattern">
										{{salesAddressMessage.postcode_invalid_error}}</small>
								</span>
							</div>
							<div class="col-md-6">
								<div class="form-group ">
									<label class="form-label font-weight-custom">Email
									</label> <input name="email" type="text"
										class="form-control input-width-custom" 
										formControlName="email" validateOnBlur
										id="" maxlength="241"
										[validateFormControl]="oneTimeCustForm.controls['email']"
										name="email" placeholder="Email"
										[value]="custAddress.email" [(ngModel)]="custAddress.email">
								</div>
								<span
									*ngIf="oneTimeCustForm.controls['email'].touched && !oneTimeCustForm.controls['email'].valid && oneTimeCustForm.controls['email'].dirty"
									class="error"> <small
									*ngIf="oneTimeCustForm.controls['email'].errors.required">
										 {{salesAddressMessage.email}}</small>
										 <small
									*ngIf="oneTimeCustForm.controls['email'].errors.pattern">
										{{salesAddressMessage.email_invalid_error}}</small>
								</span>
							</div>
							<div class="clear-fix"></div>
							<div class="col-md-6">
								<div class="form-group ">
									<label class="form-label font-weight-custom">Phone Number
									</label> <input name="phone" type="text"
										class="form-control input-width-custom" 
										formControlName="phone" validateOnBlur
										id="" maxlength="30"
										[validateFormControl]="oneTimeCustForm.controls['phone']"
										name="phone" placeholder="Phone Number"
										[value]="custAddress.telephone" [(ngModel)]="custAddress.telephone">
								</div>
								<span
									*ngIf="oneTimeCustForm.controls['phone'].touched && !oneTimeCustForm.controls['phone'].valid && oneTimeCustForm.controls['phone'].dirty"
									class="error"> <small
									*ngIf="oneTimeCustForm.controls['phone'].errors.required">
										 {{salesAddressMessage.phone}}</small>
										 <small
									*ngIf="oneTimeCustForm.controls['phone'].errors.pattern">
										{{salesAddressMessage.mobile_invalid_error}}</small>
								</span>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label class="form-label font-weight-custom">GSTIN </label> 
									<input name="bpGstinNumber"
										type="text" placeholder="GSTIN"
										class="form-control input-width-custom" id="bpGstin"
										formControlName="bpGstinNumber" name="bpGstin" validateOnBlur
										[validateFormControl]="oneTimeCustForm.controls['bpGstinNumber']"
										[value]="custAddress.name_4" [(ngModel)]="custAddress.name_4">
								</div>
								<span
									*ngIf="oneTimeCustForm.controls['bpGstinNumber'].touched && !oneTimeCustForm.controls['bpGstinNumber'].valid && oneTimeCustForm.controls['bpGstinNumber'].dirty"
									class="error"> <small
									*ngIf="oneTimeCustForm.controls['bpGstinNumber'].errors.required">
										{{salesAddressMessage.gstnNumber}}</small> <small
									*ngIf="oneTimeCustForm.controls['bpGstinNumber'].errors.pattern">
										{{salesAddressMessage.gstnNumber_invalid_error}}</small>

								</span>
							</div>
							<div class="clear-fix"></div>
							<div class="col-md-6">
									<div class="form-group ">
										<label class="form-label font-weight-custom">Drug Licence Number<span
											class="mField"></span>
										</label> <input name="drugLicNum" type="text" id="drugLicNum"
											class="form-control input-width-custom" 
											formControlName="drugLicNum"  validateOnBlur
											[validateFormControl]="oneTimeCustForm.controls['drugLicNum']"
											placeholder="Drug Licence Number"
											maxlength="30"
											[value]="custAddress.district" [(ngModel)]="custAddress.district"
											>
									</div>
									<span
										*ngIf="oneTimeCustForm.controls['drugLicNum'].touched && !oneTimeCustForm.controls['drugLicNum'].valid && oneTimeCustForm.controls['drugLicNum'].dirty"
										class="error"> <small
										*ngIf="oneTimeCustForm.controls['drugLicNum'].errors.required">
											  {{salesAddressMessage.drugLcnNumber}}</small> 
									</span>
								</div>
							
							<!-- <div class="col-md-6">
								<div class="form-group">
										<label class="form-label font-weight-custom"> Country<span
											class="mField">*</span>
										</label> <select class="form-control input-width-custom"
											name="country"
											formControlName="country" validateOnBlur
											[validateFormControl]="oneTimeCustForm.controls['country']"
											style="margin-top: 1px !important; padding: 5px !important;"
											id="country_id" 
											 [(ngModel)]="country"
											>

											<option value="" disabled>Please
												Select Country</option>
											<option *ngFor="let cntry of countryList" [value]="cntry.id" [selected]="country==cntry.id">
												{{cntry.value}}</option>
										</select>
									</div>
									<span
										*ngIf="oneTimeCustForm.controls['country'].touched && !oneTimeCustForm.controls['country'].valid && oneTimeCustForm.controls['country'].dirty"
										class="error"> <small
										*ngIf="oneTimeCustForm.controls['country'].errors.required">
											{{salesAddressMessage.country}}</small>

									</span>
							</div> -->
							<div class="col-md-6">
									<div class="form-group " style="margin-bottom: 18px !important;">
										<label class="form-label font-weight-custom">PAN Number 
										</label> <input name="bpPan" type="text" id="bpPan"
											class="form-control input-width-custom" 
											formControlName="bpPan"  validateOnBlur
											[validateFormControl]="oneTimeCustForm.controls['bpPan']"
											placeholder="Pan Number" 
											[value]="custAddress.name_3" [(ngModel)]="custAddress.name_3"
											>
											
											<span
										*ngIf="oneTimeCustForm.controls['bpPan'].touched && !oneTimeCustForm.controls['bpPan'].valid && oneTimeCustForm.controls['bpPan'].dirty"
										class="error"> <small
										*ngIf="oneTimeCustForm.controls['bpPan'].errors.required">
											  {{salesAddressMessage.panNumber}}</small> 
											<small
										*ngIf="oneTimeCustForm.controls['bpPan'].errors.pattern">
											 {{salesAddressMessage.panNum_invalid_error}}</small>
									</span>
									</div>
									
								</div>
							<div class="clear-fix"></div>
							<!-- <div class="col-md-6">
									<div class="form-group " style="margin-bottom: 18px !important;">
										<label class="form-label font-weight-custom">FAX Number 
										</label> <input name="fax" type="text" id="fax"
											class="form-control input-width-custom" 
											formControlName="fax"  validateOnBlur
											[validateFormControl]="oneTimeCustForm.controls['fax']"
											placeholder="Fax Number" 
											[value]="custAddress.fax_number" [(ngModel)]="custAddress.fax_number"
											>
											
											<span
										*ngIf="oneTimeCustForm.controls['fax'].touched && !oneTimeCustForm.controls['fax'].valid && oneTimeCustForm.controls['fax'].dirty"
										class="error"> <small
										*ngIf="oneTimeCustForm.controls['fax'].errors.required">
											  {{salesAddressMessage.faxNumber}}</small> 
											<small
										*ngIf="oneTimeCustForm.controls['fax'].errors.pattern">
											 {{salesAddressMessage.faxNum_invalid_error}}</small>
									</span>
									</div>
									
								</div> -->
						</div>
						
				</div>
				</form>
			</div>
			<div class="modal-footer">
				<div class="row new_row">
					<div class="pull-right new_right act_foot">
						<div class="pull-right new_right act_foot closePopUpOk">
							<button [disabled]="!oneTimeCustForm.valid"
											 Class="login-button forgotOk" (click)="submitAddress()"
											>Ok</button>
							<button (click)="closeModal('oneTimeCustomerModal')"
								Class="cancel-button forgotOk">Cancel</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>